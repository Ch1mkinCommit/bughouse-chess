:root {
  --sq-size-primary: min(6vw, 9vh);
  --sq-size-secondary: calc(var(--sq-size-primary) / 1.5);
  --board-size-primary: calc(var(--sq-size-primary) * 8);
  --board-size-secondary: calc(var(--sq-size-secondary) * 8);
}

html, body {
  font-family: Verdana, sans-serif;
  font-size: max(calc(var(--sq-size-primary) * 0.3), 10pt);
  background-color: #1c3a0c;
  color: #e0e0e0;
  height: 100%;
}
html {
  display: table;
  margin: auto;
}
body {
  display: table-cell;
  vertical-align: middle;
}
table {
  border-collapse: collapse;
}
table, tr, th, td {
  margin: 0;
  padding: 0;
}

#page {
  display: grid;
  grid-template-areas:
    "   fill-a       fill-x  prim-reserve-top  fill-y       fill-k       fill-w      fill-p    "
    "   fill-a       fill-x  prim-reserve-top  fill-y  scnd-reserve-top  fill-w      fill-p    "
    "prim-name-top   fill-x  prim-reserve-top  fill-y  scnd-reserve-top  fill-w   scnd-name-top"
    "prim-clock-top  fill-x     prim-board     fill-y     scnd-board     fill-w  scnd-clock-top"
    "   fill-b       fill-x     prim-board     fill-y     scnd-board     fill-w      fill-q    "
    "   fill-b       fill-x     prim-board     score      scnd-board     fill-w      fill-q    "
    "   fill-b       fill-x     prim-board     fill-z     scnd-board     fill-w      fill-q    "
    "   fill-b       fill-x     prim-board     fill-z     scnd-board     fill-w  scnd-clock-bot"
    "   fill-b       fill-x     prim-board     fill-z  scnd-reserve-bot  fill-w   scnd-name-bot"
    "   fill-b       fill-x     prim-board     fill-z  scnd-reserve-bot  fill-w      fill-r    "
    "   fill-b       fill-x     prim-board     fill-z       fill-l       fill-w      fill-r    "
    "   fill-b       fill-x     prim-board     fill-z     info-panel     fill-w      fill-r    "
    "prim-clock-bot  fill-x     prim-board     fill-z     info-panel     fill-w      fill-r    "
    "prim-name-bot   fill-x  prim-reserve-bot  fill-z       fill-m       fill-w      fill-r    "
    "   fill-c       fill-x  prim-reserve-bot  fill-z       fill-m       fill-w      fill-r    "
  ;
  grid-template-columns: auto 1vw auto 5vw auto 1vw auto;
}

#board-container-primary { grid-area: prim-board; }
#reserve-primary-top { grid-area: prim-reserve-top; }
#reserve-primary-bottom { grid-area: prim-reserve-bot; }
#player-name-primary-top { grid-area: prim-name-top; }
#player-name-primary-bottom { grid-area: prim-name-bot; }
#clock-primary-top { grid-area: prim-clock-top; }
#clock-primary-bottom { grid-area: prim-clock-bot; }

#score { grid-area: score; }

#board-container-secondary { grid-area: scnd-board; }
#reserve-secondary-top { grid-area: scnd-reserve-top; }
#reserve-secondary-bottom { grid-area: scnd-reserve-bot; }
#player-name-secondary-top { grid-area: scnd-name-top; }
#player-name-secondary-bottom { grid-area: scnd-name-bot; }
#clock-secondary-top { grid-area: scnd-clock-top; }
#clock-secondary-bottom { grid-area: scnd-clock-bot; }

#info-panel { grid-area: info-panel; }

.sq-black {
  background-color: #e59349;
}
.sq-white {
  background-color: #dfceb4;
}

.reserve-piece-primary,
.reserve-piece-secondary {
  filter: drop-shadow(0 0 calc(var(--sq-size-primary) * 0.1) #8eab6de0);
}
/* Improvement potential. Better size calculations: Ensure that squares are square
   and do the rest the usual CSS/HTML style based on space left for the grid. */
.reserve-piece-primary,
.sq-primary {
  width: var(--sq-size-primary);
  height: var(--sq-size-primary);
}
.reserve-piece-secondary,
.sq-secondary {
  width: var(--sq-size-secondary);
  height: var(--sq-size-secondary);
}
.sq-primary,
.sq-secondary {
  user-select: none;
  text-align: center;
  vertical-align: middle;
}

.board-piece {
  display: block;
  width: 100%;
  height: 100%;
}
.reserve-piece-primary,
.reserve-piece-secondary {
  display: block;
}
.reserve-piece-primary-wrapper,
.reserve-piece-primary-separator {
  width: calc(var(--sq-size-primary) / 2);
}
.reserve-piece-secondary-wrapper,
.reserve-piece-secondary-separator {
  width: calc(var(--sq-size-secondary) / 2);
}
.reserve-piece-primary-wrapper,
.reserve-piece-secondary-wrapper,
.reserve-piece-primary-separator,
.reserve-piece-secondary-separator {
  display: inline-block;
}

#reserve-primary-top,
#reserve-primary-bottom {
  height: var(--sq-size-primary);
}
#reserve-secondary-top,
#reserve-secondary-bottom {
  height: var(--sq-size-secondary);
}
.reserve {
  text-align: center;
  white-space: nowrap;
  padding: calc(var(--sq-size-primary) * 0.15) 0;
}

.dragover {
  box-shadow: 0px 0px 2px 0px #00000080;
}

#board-primary {
  border: 1px solid #101010;
  box-shadow: 2px 2px 3px #202020;
}
#board-secondary {
  border: 1px solid #101010;
  box-shadow: 1px 1px 2px #202020;
}

#player-name-primary-top,
#player-name-primary-bottom {
  text-align: right;
}
#player-name-secondary-top,
#player-name-secondary-bottom {
  text-align: left;
}
#score,
.player-name {
  color: #a4b984;
  padding: calc(var(--sq-size-primary) * 0.1) 0;
}
#score {
  text-align: center;
  white-space: pre;
}

.clock {
  font-family: Monaco, monospace;
  font-size: 150%;
  text-align: center;
  white-space: nowrap;
  min-width: 3em;
  border-radius: calc(var(--sq-size-primary) * 0.2);
  padding: calc(var(--sq-size-primary) * 0.05) calc(var(--sq-size-primary) * 0.1);
  margin: calc(var(--sq-size-primary) * 0.2)  0;
}
.clock-inactive {
  color: #909090;
  background-color: #28351f;
  outline: calc(var(--sq-size-primary) * 0.03) solid #74935f;
}
.clock-active {
  font-weight: bold;
  color: #f0f0f0;
  background-color: #1f5800;
  outline: calc(var(--sq-size-primary) * 0.1) outset #63ba25;
}
.clock-active.clock-low-time {
  font-weight: bold;
  color: #f0f0f0;
  background-color: #435700;
  outline: calc(var(--sq-size-primary) * 0.1) outset #ddd712;
}
.clock-flag {
  font-weight: bold;
  color: #909090;
  background-color: #691400;
  outline: calc(var(--sq-size-primary) * 0.1) solid #bf0000;
}

#info-string {
  font-size: 80%;
  width: max(var(--board-size-secondary), 6em);
  max-height: 4em;
  padding-bottom: 0.5em;
  display: block;
  overflow: hidden;
}
#command {
  width: max(var(--board-size-secondary), 6em);
  box-sizing: border-box;
  background-color: #8ea36e;
}
